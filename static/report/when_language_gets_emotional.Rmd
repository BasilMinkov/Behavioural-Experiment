---
babel-lang: russian
lang: russian
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Репликация исследования «Совпадение эффекта: влияние эмоций на моторные реакции» (R. Filik, C. M. Hunter, H.Leuthold, 2015)

#### Репликацию провели: М. Анцупова, В. Минков, Р. Оганесян

## Введение

Темой оригинального исследования было изучение связи эмоций и языка. Гипотеза эксперимента: при совпадении «нужного» движения и с эмоциональной окраской слова (притягивание+ позитивная окраска, толчок+ негативная окраска слова) моторное действие происходило быстрее. Этот эффект **совместимости** с эффектом **воздействия** будет поддерживать теорию *Havas et al. (2007)* о том, что эмоциональное моделирование во время понимания текста происходит даже тогда, когда участникам не предлагается напрямую оценить эмоциональное содержание текста.

## Методы 

### Анализ мощности

  Размер оригинальной выборки составлял 48 человек. Анализ мощности показал, что для повтора результатов с мощностью в 80% потребуется выборка из 64 человек. Предполагается, что такую выборку получится собрать практически полностью.

### Планируемая выборка

  Как и в оригинальном исследовании, основную выборку составят студенты, бакалавры и магистры. Никаких особенных характеристик и навыков для выполнения заданий не требовалось.

### Материалы

  Материалы для исследования были созданы и адаптированы в соответствии с правилами, приведенными в самой статье и её дополнениях. Для 80 проб, состоящих из двух предложений, были написаны 160 предложений, соответствующих определенным правилам. Первое предложение давало контекст: примерно в половине проб он был нейтральным, в остальных случаях указывал на позитивное или негативное событие. Второе предложение пробы всегда оканчивалось на позитивное или негативное слово. 
  
  Также, для наиболее точного повторения оригинального исследования, были написаны 56 проб, которые в оригинальном исследовании были нужны для второго эксперимента. Пробы так же были составлены в соответствии с условиями оригинального исследования и чередовались с пробами основного исследования. 

### Процедура

  В каждой пробе испытуемым предъявляли 2 предложения: сначала разом транслируется первое нейтральное предложение, затем по одному слову с паузами второе предложение. Когда демонстрировалось последнее слово, оно через 500 мс меняло оттенок, становясь зеленоватым или голубоватым. В зависимости от оттенка участникам нужно было нажимать кнопку от себя (стрелочка «вверх») или к себе (стрелочка «вниз»). 
Участники реагировали на характеристику стимула, которая не имела бы отношения к эмоциональному содержанию. 
Гипотеза эксперимента: при совпадении «нужного» движения и с эмоциональной окраской слова (притягивание+ позитивная окраска, толчок+ негативная окраска слова) моторное действие происходило быстрее. Этот эффект совместимости с эффектом воздействия будет поддерживать теорию *Havas et al. (2007)* о том, что эмоциональное моделирование во время понимания текста происходит даже тогда, когда участникам не предлагается напрямую оценить эмоциональное содержание текста.

  Отличия от оригинального эксперимента заключались в том, что вместе джойстика с движением от себя-к себе использовались кнопки от себя-к себе. 

### Алгоритм анализа

  Для анализа планируется использовать двухфакторный дисперсионного анализ с повторными измерениями, где факторами являются эмоциональная окраска предложений и нажатие определенной кнопки.
  
  0. Чтение данных
  1. Подготовка данных и выбор факторов
  2. Начало обработки основного набора данных
  3. Подготовка средних значений
  4. Вычисление ANOVA
  5. Начало обработки данных с положительными предложениями
  6. Подготовка средних значений
  7. Вычисление ANOVA
  8. Начало обработки данных с положительными предложениями
  9. Подготовка средних значений
  10. Вычисление ANOVA
  
### Отличия от оригинального исследования

  Основное отличие заключается в замене джойстика, использовавшегося в оригинальном исследовании, на кнопки на клавиатуре. 

  Данные о результатах после сбора данных.

### Итоговая выборка

  Нам удалось собрать 65 человека в соответствии с рассчитанной мощностью, 16 мужчин и 49 женщин. Возраст – от 18 до 47 лет, средний возраст 20 лет.

### Отличия от первоначального плана сбора выборки

  Отсутствуют.
	
## Результаты

```{r cars, echo=FALSE}

# Algorithm

# 0. Read data

df <- read.csv(file="/Users/basilminkov/Scripts/python3/experiment_replication/output.csv", header=FALSE, sep=",")
colnames(df) <- c("Subject", "Colour", "Trial", "Key_Stimulus", "RT_Stimulus")

# 1. Prepare datasets and set factors

df <- subset(df, Trial < 80)
df$Colour[df$Trial>=0 & df$Trial < 40] <- 0 # positive trial
df$Colour[df$Trial>=40 & df$Trial < 80] <- 1 # negative trial

df_pos <- subset(df, Colour==0)
df_neg <- subset(df, Colour==1)

df <- within(df, {
  Subject   <- factor(Subject)
  Colour <- factor(Colour)
  Key_Stimulus <- factor(Key_Stimulus)
})

df_pos <- within(df_pos, {
  Subject   <- factor(Subject)
  Key_Stimulus <- factor(Key_Stimulus)
})

df_neg <- within(df_neg, {
  Subject   <- factor(Subject)
  Key_Stimulus <- factor(Key_Stimulus)
})

# 2. Initialise main dataset processing

print("Mean reaction time from:")
mean(df$RT_Stimulus[df$Key_Stimulus==273]) # up button
print("Mean reaction time to:")
mean(df$RT_Stimulus[df$Key_Stimulus==274]) # down button 

# 3. Prepare means

df.mean <- aggregate(df$RT_Stimulus,
                     by = list(df$Subject, df$Colour, df$Key_Stimulus), FUN = 'mean')
colnames(df.mean) <- c("Subject", "Colour", "Key_Stimulus", "RT_Stimulus")

df.mean <- df.mean[order(df.mean$Subject), ]

# 4. Calculate ANOVA

result.aov <- with(df.mean,
                   aov(RT_Stimulus ~ Colour * Key_Stimulus +
                         Error(Subject / (Colour * Key_Stimulus))))

summary(result.aov)

# 5. Initialise positive dataset processing

print("Mean positive trial reaction time from:")
mean(df$RT_Stimulus[df$Colour==0 & df$Key_Stimulus==273]) # up button
print("Mean positive trial reaction time to:")
mean(df$RT_Stimulus[df$Colour==0 & df$Key_Stimulus==274]) # down button 

# 6. Prepare means

df_pos.mean <- aggregate(df_pos$RT_Stimulus,
                         by = list(df_pos$Subject, df_pos$Key_Stimulus), FUN = 'mean')
colnames(df_pos.mean) <- c("Subject", "Key_Stimulus", "RT_Stimulus")

df_pos.mean <- df_pos.mean[order(df_pos.mean$Subject), ]

# 7. Calculate ANOVA

result_pos.aov <- with(df_pos.mean,
                       aov(RT_Stimulus ~ Key_Stimulus
                       ))

summary(result_pos.aov)

# 8. Initialise negative dataset processing

print("Mean negative trial reaction time from:")
mean(df$RT_Stimulus[df$Colour==1 & df$Key_Stimulus==273]) # up button
print("Mean negative trial reaction time to:")
mean(df$RT_Stimulus[df$Colour==1 & df$Key_Stimulus==274]) # down button 

# 9. Prepare means

df_neg.mean <- aggregate(df_neg$RT_Stimulus,
                         by = list(df_neg$Subject, df_neg$Key_Stimulus), FUN = 'mean')
colnames(df_neg.mean) <- c("Subject", "Key_Stimulus", "RT_Stimulus")

df_neg.mean <- df_neg.mean[order(df_neg.mean$Subject), ]

# 10. Calculate ANOVA

result_neg.aov <- with(df_neg.mean,
                       aov(RT_Stimulus ~ Key_Stimulus
                       ))

summary(result_neg.aov)

```

  В результате не была выявлена значитальная ввязь Характеристика (Эмоциональная окраска) X Движение (F(1, 65) = 0.187, p = 0.667). Для негативно окрашенных материалов реакции от себя не были более быстрыми, чем реакции на притягивание к себе (F(1, 65) = 0.008, p = 0.931) (M = 1002.071 vs. M = 1018.077 ms.), тогда как для положительных материалов реакция к себе была сильнее, чем от себя (F(1, 65) = 0.268, p = 0.605) (M = 997.2858 vs. M = 969.0559 ms.). То есть ответы, в которых эмоциональная окраска совместима с направлением движения, не были быстрее, чем те, которые были несовместимы (M = 999.6903 vs. M = 993.447 ms.), демонстрируя отсутствие эффекта совместимости.

## Обсуждение

  Несмотря на то, что мы пытались провести эксперимент в наиболее приближенных к оригинальному эксперименту условиях, нам не удаось подтвердить гипотезу. Вероятно, это связано с тем, что условия все-таки не были лабораторными. Так же проблема может заключаться в том, что испытуемые использовали кнопки на клавиатуре, а не джостик. Выбрав одну единственную кнопку, испытуемый с большей вероятностью будет нажимать именно на нее, потому что положение руки в течении длительного эксперимента менять не придется. 